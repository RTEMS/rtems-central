SPDX-License-Identifier: CC-BY-SA-4.0 OR BSD-2-Clause
brief: |
  Deletes the partition.
copyrights:
- Copyright (C) 2020 embedded brains GmbH (http://www.embedded-brains.de)
- Copyright (C) 1988, 2008 On-Line Applications Research Corporation (OAR)
definition:
  default:
    attributes: null
    body: null
    params:
    - ${../../type/if/id:/name} ${.:/params[0]/name}
    return: ${../../status/if/code:/name}
  variants: []
description: |
  This directive deletes the partition specified by the ${.:/params[0]/name}
  parameter.  The partition cannot be deleted if any of its buffers are still
  allocated.  The ${/glossary/ptcb:/term} for the deleted partition is
  reclaimed by RTEMS.
enabled-by: true
index-entries:
- delete a partition
interface-type: function
links:
- role: interface-placement
  uid: header
- role: interface-ingroup
  uid: group
name: rtems_partition_delete
notes: |
  This directive may cause the calling task to be preempted due to an obtain
  and release of the object allocator mutex.

  The calling task does not have to be the task that created the partition.
  Any local task that knows the partition identifier can delete the partition.

  When a global partition is deleted, the partition identifier must be
  transmitted to every node in the system for deletion from the local copy of
  the global object table.

  The partition must reside on the local node, even if the partition was
  created with the ${../../attr/if/global:/name} attribute.
params:
- description: is the partition identifier.
  dir: null
  name: id
return:
  return: null
  return-values:
  - description: |
      The requested operation was successful.
    value: ${../../status/if/successful:/name}
  - description: |
      There was no partition with the specified identifier.
    value: ${../../status/if/invalid-id:/name}
  - description: |
      The partition resided on a remote node.
    value: ${../../status/if/illegal-on-remote-object:/name}
  - description: |
      There were buffers of the partition still in use.
    value: ${../../status/if/resource-in-use:/name}
type: interface
